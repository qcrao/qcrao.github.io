<!doctype html><html lang=zh-cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer-when-downgrade"><title>曹大带我学 Go（10）—— 如何给 Go 提性能优化的 pr | qcrao 的博客</title><meta property="og:title" content="曹大带我学 Go（10）—— 如何给 Go 提性能优化的 pr - qcrao 的博客"><meta property="og:type" content="article"><meta property="article:published_time" content="2021-08-03T23:43:04+08:00"><meta property="article:modified_time" content="2021-08-03T23:43:04+08:00"><meta name=Keywords content="golang,go语言,后端,个人成长"><meta name=description content="曹大带我学 Go（10）—— 如何给 Go 提性能优化的 pr"><meta name=author content="饶全成"><meta property="og:url" content="https://qcrao.com/post/go-tls-pr-by-xargin/"><link rel="shortcut icon" href=/favicon.ico type=image/x-icon><link rel=stylesheet href=/css/normalize.css><link rel=stylesheet href=/css/style.css><script type=text/javascript src=//cdn.bootcdn.net/ajax/libs/jquery/3.4.1/jquery.min.js></script>
<link href=https://cdn.bootcdn.net/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.css rel=stylesheet></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><a id=logo href=https://qcrao.com>qcrao 的博客</a><p class=description>专注于 Go 语言(golang)、后端架构、个人成长</p></div><div><nav id=nav-menu class=clearfix><a class=current href=https://qcrao.com>首页</a>
<a href=https://qcrao.com/archives/ title=归档>归档</a>
<a href=https://qcrao.com/about/ title=关于>关于</a>
<a href=https://qcrao.com/readings/ title=阅读>阅读</a>
<a href=https://qcrao.com/ishare/ title=分享>分享</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>曹大带我学 Go（10）—— 如何给 Go 提性能优化的 pr</h1></header><date class="post-meta meta-date">2021年8月3日</date><div class=post-meta><span id=busuanzi_container_page_pv>|<span id=busuanzi_value_page_pv></span><span>
阅读</span></span></div><div class=post-content><p>之前写了一篇<a href=https://mp.weixin.qq.com/s/vMM2tKEGJUproWMhycVtog>《成为 Go Contributor》</a> 的文章，讲了如何给 Go 提一个 typo 的 pr，以此熟悉整个流程。当然，离真正的 Contributor 还差得远。</p><p>开课前曹大在 Go 夜读上讲了他给 Go 提的一个关于 <a href=https://www.bilibili.com/video/BV1Z64y1m7uc>tls 的性能优化</a>，课上又细讲了下，本文就带大家来学习下他优化了啥以及如何看优化效果。</p><p>第一次提的 pr 在<a href=https://go-review.googlesource.com/c/go/+/263277>这里</a>，之后又挪到了一个新的<a href=https://go-review.googlesource.com/c/go/+/267957>位置</a>，前后有一些代码上的简化，最后看着挺舒服。</p><p>优化前每个 tls 连接上都有一个 <code>write buffer</code>，但是活跃的连接数很少，很多内存都被闲置了，这种就可以用 sync.Pool 来优化了。</p><p><a data-fancybox=gallery href=https://user-images.githubusercontent.com/7698088/127991523-b5d898c0-919c-4b11-be1c-b29816c3ba64.png><img class=mx-auto alt=conn src=https://user-images.githubusercontent.com/7698088/127991523-b5d898c0-919c-4b11-be1c-b29816c3ba64.png></a></p><p>用 sync.Pool 缓存 <code>[]byte</code>，并顺带将连接上的一个 outBuf 字段给干掉了：</p><p><a data-fancybox=gallery href=https://user-images.githubusercontent.com/7698088/127991930-34eee5d5-6176-458b-a7b8-c243a6b44950.png><img class=mx-auto alt="files changed" src=https://user-images.githubusercontent.com/7698088/127991930-34eee5d5-6176-458b-a7b8-c243a6b44950.png></a></p><p>整体上改动挺少，效果也不错。</p><p>虽然一开始给了 <code>_test</code> 文件，但其实并不能太好反映性能的提升。因此后面曹大又写了一个简单的 client 和 server 来实际测试。</p><p>我在开发机上测了一下，优化还是挺明显的。这又是一个使用 pprof 查看性能优化的好例子。</p><p><code>client</code> 的代码如下：</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#000;font-weight:700>package</span> main
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>import</span> (
</span></span><span style=display:flex><span>	<span style=color:#d14>&#34;crypto/tls&#34;</span>
</span></span><span style=display:flex><span>	<span style=color:#d14>&#34;fmt&#34;</span>
</span></span><span style=display:flex><span>	<span style=color:#d14>&#34;io/ioutil&#34;</span>
</span></span><span style=display:flex><span>	<span style=color:#d14>&#34;net/http&#34;</span>
</span></span><span style=display:flex><span>	<span style=color:#d14>&#34;os&#34;</span>
</span></span><span style=display:flex><span>	<span style=color:#d14>&#34;strconv&#34;</span>
</span></span><span style=display:flex><span>	<span style=color:#d14>&#34;sync&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#d14>&#34;go.uber.org/ratelimit&#34;</span>
</span></span><span style=display:flex><span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>func</span> <span style=color:#900;font-weight:700>main</span>() {
</span></span><span style=display:flex><span>	url <span style=color:#000;font-weight:700>:=</span> os.Args[<span style=color:#099>3</span>]
</span></span><span style=display:flex><span>	connNum, err <span style=color:#000;font-weight:700>:=</span> strconv.<span style=color:#900;font-weight:700>ParseInt</span>(os.Args[<span style=color:#099>1</span>], <span style=color:#099>10</span>, <span style=color:#099>64</span>)
</span></span><span style=display:flex><span>	<span style=color:#000;font-weight:700>if</span> err <span style=color:#000;font-weight:700>!=</span> <span style=color:#000;font-weight:700>nil</span> {
</span></span><span style=display:flex><span>		fmt.<span style=color:#900;font-weight:700>Println</span>(err)
</span></span><span style=display:flex><span>		<span style=color:#000;font-weight:700>return</span>
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	qps, err <span style=color:#000;font-weight:700>:=</span> strconv.<span style=color:#900;font-weight:700>ParseInt</span>(os.Args[<span style=color:#099>2</span>], <span style=color:#099>10</span>, <span style=color:#099>64</span>)
</span></span><span style=display:flex><span>	<span style=color:#000;font-weight:700>if</span> err <span style=color:#000;font-weight:700>!=</span> <span style=color:#000;font-weight:700>nil</span> {
</span></span><span style=display:flex><span>		fmt.<span style=color:#900;font-weight:700>Println</span>(err)
</span></span><span style=display:flex><span>		<span style=color:#000;font-weight:700>return</span>
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	bucket <span style=color:#000;font-weight:700>:=</span> ratelimit.<span style=color:#900;font-weight:700>New</span>(<span style=color:#0086b3>int</span>(qps))
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#000;font-weight:700>var</span> l sync.Mutex
</span></span><span style=display:flex><span>	connList <span style=color:#000;font-weight:700>:=</span> <span style=color:#0086b3>make</span>([]<span style=color:#000;font-weight:700>*</span>http.Client, connNum)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#000;font-weight:700>for</span> i <span style=color:#000;font-weight:700>:=</span> <span style=color:#099>0</span>; ; i<span style=color:#000;font-weight:700>++</span> {
</span></span><span style=display:flex><span>		bucket.<span style=color:#900;font-weight:700>Take</span>()
</span></span><span style=display:flex><span>		i <span style=color:#000;font-weight:700>:=</span> i
</span></span><span style=display:flex><span>		<span style=color:#000;font-weight:700>go</span> <span style=color:#000;font-weight:700>func</span>() {
</span></span><span style=display:flex><span>			l.<span style=color:#900;font-weight:700>Lock</span>()
</span></span><span style=display:flex><span>			<span style=color:#000;font-weight:700>if</span> connList[i<span style=color:#000;font-weight:700>%</span><span style=color:#0086b3>len</span>(connList)] <span style=color:#000;font-weight:700>==</span> <span style=color:#000;font-weight:700>nil</span> {
</span></span><span style=display:flex><span>				connList[i<span style=color:#000;font-weight:700>%</span><span style=color:#0086b3>len</span>(connList)] = <span style=color:#000;font-weight:700>&amp;</span>http.Client{
</span></span><span style=display:flex><span>					Transport: <span style=color:#000;font-weight:700>&amp;</span>http.Transport{
</span></span><span style=display:flex><span>						TLSClientConfig:     <span style=color:#000;font-weight:700>&amp;</span>tls.Config{InsecureSkipVerify: <span style=color:#000;font-weight:700>true</span>},
</span></span><span style=display:flex><span>						IdleConnTimeout:     <span style=color:#099>0</span>,
</span></span><span style=display:flex><span>						MaxIdleConns:        <span style=color:#099>1</span>,
</span></span><span style=display:flex><span>						MaxIdleConnsPerHost: <span style=color:#099>1</span>,
</span></span><span style=display:flex><span>					},
</span></span><span style=display:flex><span>				}
</span></span><span style=display:flex><span>			}
</span></span><span style=display:flex><span>			conn <span style=color:#000;font-weight:700>:=</span> connList[i<span style=color:#000;font-weight:700>%</span><span style=color:#0086b3>len</span>(connList)]
</span></span><span style=display:flex><span>			l.<span style=color:#900;font-weight:700>Unlock</span>()
</span></span><span style=display:flex><span>			<span style=color:#000;font-weight:700>if</span> resp, e <span style=color:#000;font-weight:700>:=</span> conn.<span style=color:#900;font-weight:700>Get</span>(url); e <span style=color:#000;font-weight:700>!=</span> <span style=color:#000;font-weight:700>nil</span> {
</span></span><span style=display:flex><span>				fmt.<span style=color:#900;font-weight:700>Println</span>(e)
</span></span><span style=display:flex><span>			} <span style=color:#000;font-weight:700>else</span> {
</span></span><span style=display:flex><span>				<span style=color:#000;font-weight:700>defer</span> resp.Body.<span style=color:#900;font-weight:700>Close</span>()
</span></span><span style=display:flex><span>				ioutil.<span style=color:#900;font-weight:700>ReadAll</span>(resp.Body)
</span></span><span style=display:flex><span>			}
</span></span><span style=display:flex><span>		}()
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>逻辑比较简单，就是固定连接数、固定 QPS 向服务端发请求。</p><p><code>server</code> 的代码如下：</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#000;font-weight:700>package</span> main
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>import</span> (
</span></span><span style=display:flex><span>	<span style=color:#d14>&#34;fmt&#34;</span>
</span></span><span style=display:flex><span>	<span style=color:#d14>&#34;net/http&#34;</span>
</span></span><span style=display:flex><span>	_ <span style=color:#d14>&#34;net/http/pprof&#34;</span>
</span></span><span style=display:flex><span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>var</span> content = <span style=color:#0086b3>make</span>([]<span style=color:#458;font-weight:700>byte</span>, <span style=color:#099>16000</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>func</span> <span style=color:#900;font-weight:700>sayhello</span>(wr http.ResponseWriter, r <span style=color:#000;font-weight:700>*</span>http.Request) {
</span></span><span style=display:flex><span>	wr.<span style=color:#900;font-weight:700>Header</span>()[<span style=color:#d14>&#34;Content-Length&#34;</span>] = []<span style=color:#458;font-weight:700>string</span>{fmt.<span style=color:#900;font-weight:700>Sprint</span>(<span style=color:#0086b3>len</span>(content))}
</span></span><span style=display:flex><span>	wr.<span style=color:#900;font-weight:700>Header</span>()[<span style=color:#d14>&#34;Content-Type&#34;</span>] = []<span style=color:#458;font-weight:700>string</span>{<span style=color:#d14>&#34;application/json&#34;</span>}
</span></span><span style=display:flex><span>	wr.<span style=color:#900;font-weight:700>Write</span>(content)
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>func</span> <span style=color:#900;font-weight:700>main</span>() {
</span></span><span style=display:flex><span>	<span style=color:#000;font-weight:700>go</span> <span style=color:#000;font-weight:700>func</span>() {
</span></span><span style=display:flex><span>		http.<span style=color:#900;font-weight:700>ListenAndServe</span>(<span style=color:#d14>&#34;:3333&#34;</span>, <span style=color:#000;font-weight:700>nil</span>)
</span></span><span style=display:flex><span>	}()
</span></span><span style=display:flex><span>	http.<span style=color:#900;font-weight:700>HandleFunc</span>(<span style=color:#d14>&#34;/&#34;</span>, sayhello)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	err <span style=color:#000;font-weight:700>:=</span> http.<span style=color:#900;font-weight:700>ListenAndServeTLS</span>(<span style=color:#d14>&#34;:4443&#34;</span>, <span style=color:#d14>&#34;server.crt&#34;</span>, <span style=color:#d14>&#34;server.key&#34;</span>, <span style=color:#000;font-weight:700>nil</span>)
</span></span><span style=display:flex><span>	<span style=color:#000;font-weight:700>if</span> err <span style=color:#000;font-weight:700>!=</span> <span style=color:#000;font-weight:700>nil</span> {
</span></span><span style=display:flex><span>		fmt.<span style=color:#900;font-weight:700>Println</span>(err)
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>逻辑也很简单，起了一个 tls server，并注册了一个 sayhello 接口。</p><p>启动 server 后，先用 1.15（1.17 之前的版本都可以，曹大的改动还没合入）测试：</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>go run server.go
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#998;font-style:italic># 1000 个连接，100 个 QPS</span>
</span></span><span style=display:flex><span>go run client.go <span style=color:#099>1000</span> <span style=color:#099>100</span> https://localhost:4443
</span></span></code></pre></div><p>查看 server 的内存 profile。后面还会用 <code>--base</code> 的命令，比较前后两个 profile 文件的差异。</p><p><code>pprof</code> 的命令如下：</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>go tool pprof --http<span style=color:#000;font-weight:700>=</span>:8000 http://127.0.0.1:3333/debug/pprof/heap
</span></span></code></pre></div><p><a data-fancybox=gallery href=https://user-images.githubusercontent.com/7698088/127993938-98add38d-862e-4df5-ba4c-ac3f57b16649.png><img class=mx-auto alt="Go 1.15 mem profile" src=https://user-images.githubusercontent.com/7698088/127993938-98add38d-862e-4df5-ba4c-ac3f57b16649.png></a></p><p>看看这个大“平顶山”，有那味了（平顶山表示可以优化，如果是那种特别窄的尖尖就没办法了）~</p><p>因为这个 pr 已经合到了 1.17，我们再用 1.17 来测一下：</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>go1.17rc1 run server.go
</span></span><span style=display:flex><span>go1.17rc1 run client.go <span style=color:#099>1000</span> <span style=color:#099>100</span> https://localhost:4443
</span></span></code></pre></div><p><a data-fancybox=gallery href=https://user-images.githubusercontent.com/7698088/127994165-147bc9f9-56c8-4888-9793-c751da6b8a3a.png><img class=mx-auto alt="Go 1.17 mem profile" src=https://user-images.githubusercontent.com/7698088/127994165-147bc9f9-56c8-4888-9793-c751da6b8a3a.png></a></p><p>为了使用 <code>--base</code> 命令来进行比较，需要把 profile 文件保存下来：</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>curl http://127.0.0.1:3333/debug/pprof/heap &gt; mem.1.14
</span></span><span style=display:flex><span>curl http://127.0.0.1:3333/debug/pprof/heap &gt; mem.1.17
</span></span></code></pre></div><p>最后来比较优化前后的差异：</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>go tool pprof -http<span style=color:#000;font-weight:700>=</span>:8000 --base mem.1.15 mem.1.17
</span></span></code></pre></div><p><a data-fancybox=gallery href=https://user-images.githubusercontent.com/7698088/127995168-6a648836-01bb-4a20-b21b-12203e95a1d6.png><img class=mx-auto alt=&amp;ndash;base src=https://user-images.githubusercontent.com/7698088/127995168-6a648836-01bb-4a20-b21b-12203e95a1d6.png></a></p><p>优化效果还是很明显的。我们来看菜单栏里的 <code>view->top</code>：</p><p><a data-fancybox=gallery href=https://user-images.githubusercontent.com/7698088/127995312-ace757cf-7259-4ad0-bf3c-7c1526ec7248.png><img class=mx-auto alt=view-&amp;gt;top src=https://user-images.githubusercontent.com/7698088/127995312-ace757cf-7259-4ad0-bf3c-7c1526ec7248.png></a></p><p>整个优化从最终的提交来看还挺简单，但是能发现问题所在，并能结合自己的知识储备进行优化还是挺难的。我们平时也要多积累相关的优化经验，到关键时候才能顶上去。像 pprof 的使用，要自己多加练习。</p></div><div class=post-archive><ul class=post-copyright><li><strong>原文作者：</strong><a rel=author href=https://qcrao.com>饶全成</a></li><li style=word-break:break-all><strong>原文链接：</strong><a href=https://qcrao.com/post/go-tls-pr-by-xargin/>https://qcrao.com/post/go-tls-pr-by-xargin/</a></li><li><strong>版权声明：</strong>本作品采用<a rel=license href=https://creativecommons.org/licenses/by-nc-nd/4.0/>知识共享署名-非商业性使用-禁止演绎 4.0 国际许可协议</a>进行许可，非商业转载请注明出处（作者，原文链接），商业转载请联系作者获得授权。</li></ul></div><br></article><div class="post bg-white"><script src=https://utteranc.es/client.js repo=qcrao/blog_comments issue-term=pathname theme=github-light crossorigin=anonymous async></script></div></div><footer id=footer><div>&copy; 2022 <a href=https://qcrao.com>qcrao 的博客 By 饶全成</a>
| <a rel=nofollow target=_blank href=http://beian.miit.gov.cn/>鄂ICP备20006251号-1</a></div><br><div><div class=github-badge><a href=https://gohugo.io/ target=_black rel=nofollow><span class=badge-subject>Powered by</span><span class="badge-value bg-blue">Hugo</span></a></div><div class=github-badge><a href=https://www.flysnow.org/ target=_black><span class=badge-subject>Design by</span><span class="badge-value bg-brightgreen">飞雪无情</span></a></div><div class=github-badge><a href=https://github.com/flysnow-org/maupassant-hugo target=_black><span class=badge-subject>Theme</span><span class="badge-value bg-yellowgreen">Maupassant</span></a></div></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[["$","$"]],processEscapes:!0}}</script><script src='//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML' async></script><script src=//cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.js></script>
<a id=rocket href=#top></a>
<script type=text/javascript src='/js/totop.js?v=0.0.0' async></script>
<script type=application/javascript>var doNotTrack=!1;doNotTrack||(window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-144930666-1","auto"),ga("send","pageview"))</script><script async src=https://www.google-analytics.com/analytics.js></script>
<script type=text/javascript src=//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js async></script>
<script defer src=https://static.cloudflareinsights.com/beacon.min.js data-cf-beacon='{"token": "15ed44493a8a4df682815ddf8c84ff23"}'></script></div><div id=secondary><section class=widget><form id=search action=https://qcrao.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=Search>
<input type=hidden name=sitesearch value=https://qcrao.com>
<button type=submit class="submit icon-search"></button></form></section><section class=widget><h3 class=widget-title>最近文章</h3><ul class=widget-list><li><a href=https://qcrao.com/post/what-is-upstream-downstream/ title="你说的下游是 upstream 吧？">你说的下游是 upstream 吧？</a></li><li><a href=https://qcrao.com/post/migrate-blog-to-cloudflare-pages/ title="将博客迁移到了 Cloudflare Pages">将博客迁移到了 Cloudflare Pages</a></li><li><a href=https://qcrao.com/post/blogs-written-by-xargin/ title=那些年曹大写的文章>那些年曹大写的文章</a></li><li><a href=https://qcrao.com/post/content-is-more-important/ title=最重要的是内容>最重要的是内容</a></li><li><a href=https://qcrao.com/post/look-up-go-doc-gracefully/ title="写 Go 时如何优雅地查文档">写 Go 时如何优雅地查文档</a></li><li><a href=https://qcrao.com/post/talk-about-map-extra-field/ title="曹大带我学 Go（11）—— 从 map 的 extra 字段谈起">曹大带我学 Go（11）—— 从 map 的 extra 字段谈起</a></li><li><a href=https://qcrao.com/post/go-tls-pr-by-xargin/ title="曹大带我学 Go（10）—— 如何给 Go 提性能优化的 pr">曹大带我学 Go（10）—— 如何给 Go 提性能优化的 pr</a></li><li><a href=https://qcrao.com/post/start-to-build-up-personal-tools/ title="曹大带我学 Go（9）—— 开始积累自己的工具库">曹大带我学 Go（9）—— 开始积累自己的工具库</a></li><li><a href=https://qcrao.com/post/accident-by-a-metric/ title="曹大带我学 Go（8）—— 一个 metrics 打点引发的事故">曹大带我学 Go（8）—— 一个 metrics 打点引发的事故</a></li><li><a href=https://qcrao.com/post/how-to-use-functional-options-pattern/ title="曹大带我学 Go（7）—— 如何优雅地指定配置项">曹大带我学 Go（7）—— 如何优雅地指定配置项</a></li></ul></section><section class=widget><h3 class=widget-title>我写的书</h3><ul class=widget-list><li><a href=https://golang.design/go-questions/ title="《Go 程序员面试笔试宝典》" target=_blank style=color:red><img src=/book.png></a></li></ul></section><section class=widget><h3 class=widget-title>友情链接</h3><ul class=widget-list><li><a target=_blank href=https://www.xargin.com/ title=曹大的博客>曹大的博客</a></li><li><a target=_blank href=https://eddycjy.com/ title=煎鱼的博客>煎鱼的博客</a></li><li><a target=_blank href=http://lessisbetter.site/ title=大彬的博客>大彬的博客</a></li><li><a target=_blank href=https://wujunze.com/ title="Panda 的博客">Panda 的博客</a></li><li><a target=_blank href=https://mytechshares.com/ title=董泽润>董泽润</a></li></ul></section><section class=widget><h3 class=widget-title>其它</h3><ul class=widget-list><li><a href=https://qcrao.com/index.xml>文章 RSS</a></li></ul></section></div></div></div></div></body></html>