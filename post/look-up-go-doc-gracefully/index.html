<!doctype html><html lang=zh-cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer-when-downgrade"><title>写 Go 时如何优雅地查文档 | qcrao 的博客</title><meta property="og:title" content="写 Go 时如何优雅地查文档 - qcrao 的博客"><meta property="og:type" content="article"><meta property="article:published_time" content="2021-09-09T14:38:54+08:00"><meta property="article:modified_time" content="2021-09-09T14:38:54+08:00"><meta name=Keywords content="golang,go语言,后端,个人成长"><meta name=description content="写 Go 时如何优雅地查文档"><meta name=author content="饶全成"><meta property="og:url" content="https://qcrao.com/post/look-up-go-doc-gracefully/"><link rel="shortcut icon" href=/favicon.ico type=image/x-icon><link rel=stylesheet href=/css/normalize.css><link rel=stylesheet href=/css/style.css><script type=text/javascript src=//cdn.bootcdn.net/ajax/libs/jquery/3.4.1/jquery.min.js></script>
<link href=https://cdn.bootcdn.net/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.css rel=stylesheet></head><body><header id=header class=clearfix><div class=container><div class=col-group><div class=site-name><a id=logo href=https://qcrao.com>qcrao 的博客</a><p class=description>专注于 Go 语言(golang)、后端架构、个人成长</p></div><div><nav id=nav-menu class=clearfix><a class=current href=https://qcrao.com>首页</a>
<a href=https://qcrao.com/archives/ title=归档>归档</a>
<a href=https://qcrao.com/about/ title=关于>关于</a>
<a href=https://qcrao.com/readings/ title=阅读>阅读</a>
<a href=https://qcrao.com/ishare/ title=分享>分享</a></nav></div></div></div></header><div id=body><div class=container><div class=col-group><div class=col-8 id=main><div class=res-cons><article class=post><header><h1 class=post-title>写 Go 时如何优雅地查文档</h1></header><date class="post-meta meta-date">2021年9月9日</date><div class=post-meta><span id=busuanzi_container_page_pv>|<span id=busuanzi_value_page_pv></span><span>
阅读</span></span></div><div class=post-content><p>某天写代码时发现自己对 IDE 的依赖非常深，如果没了 Goland 就不会写代码了，心里为之一惊。</p><p>Goland 的自动补全功能已经是必需品了，只要打出相关的几个字符，不管是变量名还是函数调用，都能帮你直接补全。我们只需要往相应的位置填东西就行了。</p><p>进而又想到，当补全功能缺失或者暂时失灵的情况下，该如何快速地查出某个函数的具体用法呢？</p><p>假设我们想要对字符串做 split，却忘了具体用法，下面是几种常见的查文档方法。</p><h1 id=google>Google</h1><p><a data-fancybox=gallery href=https://user-images.githubusercontent.com/7698088/132242306-1d6fe5ce-b89e-4cf8-ba88-7618b249f5cd.png><img class=mx-auto alt=google src=https://user-images.githubusercontent.com/7698088/132242306-1d6fe5ce-b89e-4cf8-ba88-7618b249f5cd.png></a></p><p>在设置了语言是 english 的情况下，还是挺精准的。直接定位到 Go 官方文档。</p><h1 id=dash>Dash</h1><p><a data-fancybox=gallery href=https://user-images.githubusercontent.com/7698088/132242453-c88c0ae5-ee56-4bf7-b701-c2aae2b601f2.png><img class=mx-auto alt=Dash src=https://user-images.githubusercontent.com/7698088/132242453-c88c0ae5-ee56-4bf7-b701-c2aae2b601f2.png></a></p><p>同样很准确，搜索词不需要很精准。</p><h1 id=devdocsiohttpsdevdocsio><a href=https://devdocs.io/>devdocs.io</a></h1><p><a data-fancybox=gallery href=https://user-images.githubusercontent.com/7698088/132287580-e8e9193d-3cb9-44c7-98d8-429f8570c706.png><img class=mx-auto alt=devdocs src=https://user-images.githubusercontent.com/7698088/132287580-e8e9193d-3cb9-44c7-98d8-429f8570c706.png></a></p><p>这个也不错，而且支持很多种语言。</p><h1 id=pkggodev>pkg.go.dev</h1><p><a data-fancybox=gallery href=https://user-images.githubusercontent.com/7698088/132287692-8bdc84be-18ec-4229-86fb-1cd130e99579.png><img class=mx-auto alt=pkg.go.dev src=https://user-images.githubusercontent.com/7698088/132287692-8bdc84be-18ec-4229-86fb-1cd130e99579.png></a></p><p>优点是官方文档，最权威，逼格最高。缺点是要准确地记住包名+函数名。</p><h1 id=go-doc>go doc</h1><p><a data-fancybox=gallery href=https://user-images.githubusercontent.com/7698088/132287796-42eff622-094c-4243-93e0-c12dfd08d29c.png><img class=mx-auto alt=cmd src=https://user-images.githubusercontent.com/7698088/132287796-42eff622-094c-4243-93e0-c12dfd08d29c.png></a></p><p>优点是直接 iTerm2 里就可以查看，缺点是需要准确地记住包名+函数名。</p><p>有些大佬用 vim 写代码，在 shell 环境里直接能查文档，还是很有用的。不过对我等用 Goland 的菜鸡用处不大。😂</p><hr><p>上面这几种方法我用得最多的还是 Google，可能这并不是最快的方式，但是它总是能帮你找到所有有用的信息。没有 Google，我可能也不会写代码了。</p><p>最近看到一篇<a href=https://eli.thegreenplace.net/2018/command-line-autocomplete-for-go-documentation/>文章</a>，就讲了如何利用 Go 标准库做出一个好用的查文档工具。</p><p>原理是利用 Go 提供的包解析工具，把所有的导出类型列出来。然后在我们搜索的时候用模糊匹配的方式找到符合的类型，再用这个精确的类型调用 <code>go doc</code>。</p><p>流程如下：</p><p><a data-fancybox=gallery href=https://user-images.githubusercontent.com/7698088/132241591-98ddfbc9-fbb1-4ac8-825e-3fb8c474f365.png><img class=mx-auto alt="gdoc 原理" src=https://user-images.githubusercontent.com/7698088/132241591-98ddfbc9-fbb1-4ac8-825e-3fb8c474f365.png></a></p><p>在 Linux 下结合 dmenu，使用非常顺滑：</p><p><a data-fancybox=gallery href=https://user-images.githubusercontent.com/7698088/132288678-e34bfe08-054f-4188-a5d4-b7943b3bb945.png><img class=mx-auto alt=gdoc-cmd src=https://user-images.githubusercontent.com/7698088/132288678-e34bfe08-054f-4188-a5d4-b7943b3bb945.png></a></p><p>偷个懒，直接用原文的动图。😀</p><p>当然，不嫌弃浏览器的情况下，还提供了一个可视化的界面，同样有模糊匹配的功能且可以一键直达 <code>pkg.go.dev</code> 对应的页面。比 google 可能快一点。</p><p><a data-fancybox=gallery href=https://user-images.githubusercontent.com/7698088/132288730-aa607742-38e9-4e19-8dde-faf28405ab01.png><img class=mx-auto alt=gdoc-web src=https://user-images.githubusercontent.com/7698088/132288730-aa607742-38e9-4e19-8dde-faf28405ab01.png></a></p><p>选中其中一个，会直接跳转过来：</p><p><a data-fancybox=gallery href=https://user-images.githubusercontent.com/7698088/132288771-fdcd821c-004e-46f7-90d6-ac5f6e139a88.png><img class=mx-auto alt="跳转到 pkg.go.dev" src=https://user-images.githubusercontent.com/7698088/132288771-fdcd821c-004e-46f7-90d6-ac5f6e139a88.png></a></p><h1 id=后记>后记</h1><p>不过，即使知道了这些方法，可能最后还是会退化到用 Google 直接搜，因为啥都不需要记，所有的东西都可以用 Google 搜索出来。</p><p>这也是最方便的方法，什么额外的事情都不用做。因为方便，成本低，自然就想把所有的事情都挪到它上面来做，即使有很多专业的查文档工具的情况下，还是会这么做。</p><p>一件事，如果容易，那就会经常做。反之，如果成本比较高，结果不是做这件事花的时间更多，而是我们选择不去做它。</p><p>不知道你平时查文档时用的什么方法，欢迎留言一起讨论。</p></div><div class=post-archive><ul class=post-copyright><li><strong>原文作者：</strong><a rel=author href=https://qcrao.com>饶全成</a></li><li style=word-break:break-all><strong>原文链接：</strong><a href=https://qcrao.com/post/look-up-go-doc-gracefully/>https://qcrao.com/post/look-up-go-doc-gracefully/</a></li><li><strong>版权声明：</strong>本作品采用<a rel=license href=https://creativecommons.org/licenses/by-nc-nd/4.0/>知识共享署名-非商业性使用-禁止演绎 4.0 国际许可协议</a>进行许可，非商业转载请注明出处（作者，原文链接），商业转载请联系作者获得授权。</li></ul></div><br></article><div class="post bg-white"><script src=https://utteranc.es/client.js repo=qcrao/blog_comments issue-term=pathname theme=github-light crossorigin=anonymous async></script></div></div><footer id=footer><div>&copy; 2022 <a href=https://qcrao.com>qcrao 的博客 By 饶全成</a>
| <a rel=nofollow target=_blank href=http://beian.miit.gov.cn/>鄂ICP备20006251号-1</a></div><br><div><div class=github-badge><a href=https://gohugo.io/ target=_black rel=nofollow><span class=badge-subject>Powered by</span><span class="badge-value bg-blue">Hugo</span></a></div><div class=github-badge><a href=https://www.flysnow.org/ target=_black><span class=badge-subject>Design by</span><span class="badge-value bg-brightgreen">飞雪无情</span></a></div><div class=github-badge><a href=https://github.com/flysnow-org/maupassant-hugo target=_black><span class=badge-subject>Theme</span><span class="badge-value bg-yellowgreen">Maupassant</span></a></div></div></footer><script type=text/javascript>window.MathJax={tex2jax:{inlineMath:[["$","$"]],processEscapes:!0}}</script><script src='//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML' async></script><script src=//cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.js></script>
<a id=rocket href=#top></a>
<script type=text/javascript src='/js/totop.js?v=0.0.0' async></script>
<script type=application/javascript>var doNotTrack=!1;doNotTrack||(window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-144930666-1","auto"),ga("send","pageview"))</script><script async src=https://www.google-analytics.com/analytics.js></script>
<script type=text/javascript src=//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js async></script>
<script defer src=https://static.cloudflareinsights.com/beacon.min.js data-cf-beacon='{"token": "15ed44493a8a4df682815ddf8c84ff23"}'></script></div><div id=secondary><section class=widget><form id=search action=https://qcrao.com/search method=get accept-charset=utf-8 target=_blank _lpchecked=1><input type=text name=q maxlength=20 placeholder=Search>
<input type=hidden name=sitesearch value=https://qcrao.com>
<button type=submit class="submit icon-search"></button></form></section><section class=widget><h3 class=widget-title>最近文章</h3><ul class=widget-list><li><a href=https://qcrao.com/post/what-is-upstream-downstream/ title="你说的下游是 upstream 吧？">你说的下游是 upstream 吧？</a></li><li><a href=https://qcrao.com/post/migrate-blog-to-cloudflare-pages/ title="将博客迁移到了 Cloudflare Pages">将博客迁移到了 Cloudflare Pages</a></li><li><a href=https://qcrao.com/post/blogs-written-by-xargin/ title=那些年曹大写的文章>那些年曹大写的文章</a></li><li><a href=https://qcrao.com/post/content-is-more-important/ title=最重要的是内容>最重要的是内容</a></li><li><a href=https://qcrao.com/post/look-up-go-doc-gracefully/ title="写 Go 时如何优雅地查文档">写 Go 时如何优雅地查文档</a></li><li><a href=https://qcrao.com/post/talk-about-map-extra-field/ title="曹大带我学 Go（11）—— 从 map 的 extra 字段谈起">曹大带我学 Go（11）—— 从 map 的 extra 字段谈起</a></li><li><a href=https://qcrao.com/post/go-tls-pr-by-xargin/ title="曹大带我学 Go（10）—— 如何给 Go 提性能优化的 pr">曹大带我学 Go（10）—— 如何给 Go 提性能优化的 pr</a></li><li><a href=https://qcrao.com/post/start-to-build-up-personal-tools/ title="曹大带我学 Go（9）—— 开始积累自己的工具库">曹大带我学 Go（9）—— 开始积累自己的工具库</a></li><li><a href=https://qcrao.com/post/accident-by-a-metric/ title="曹大带我学 Go（8）—— 一个 metrics 打点引发的事故">曹大带我学 Go（8）—— 一个 metrics 打点引发的事故</a></li><li><a href=https://qcrao.com/post/how-to-use-functional-options-pattern/ title="曹大带我学 Go（7）—— 如何优雅地指定配置项">曹大带我学 Go（7）—— 如何优雅地指定配置项</a></li></ul></section><section class=widget><h3 class=widget-title>我写的书</h3><ul class=widget-list><li><a href=https://golang.design/go-questions/ title="《Go 程序员面试笔试宝典》" target=_blank style=color:red><img src=/book.png></a></li></ul></section><section class=widget><h3 class=widget-title>友情链接</h3><ul class=widget-list><li><a target=_blank href=https://www.xargin.com/ title=曹大的博客>曹大的博客</a></li><li><a target=_blank href=https://eddycjy.com/ title=煎鱼的博客>煎鱼的博客</a></li><li><a target=_blank href=http://lessisbetter.site/ title=大彬的博客>大彬的博客</a></li><li><a target=_blank href=https://wujunze.com/ title="Panda 的博客">Panda 的博客</a></li><li><a target=_blank href=https://mytechshares.com/ title=董泽润>董泽润</a></li></ul></section><section class=widget><h3 class=widget-title>其它</h3><ul class=widget-list><li><a href=https://qcrao.com/index.xml>文章 RSS</a></li></ul></section></div></div></div></div></body></html>